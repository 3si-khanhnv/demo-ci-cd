<div fxLayout="row" fxFlexAlign="center" class="header" [ngClass]="{ 'panel-open': showChild }">
  <div *ngIf="checkbox" fxFlex="40px" fxFlexAlign="center" class="checkbox">
    <mat-checkbox
      [aria-label]="labels?.checkbox?.aria"
      [checked]="data.checked"
      (click)="$event.stopPropagation()"
      (keydown)="$event.stopPropagation()"
      (change)="onCheck(data.checked)"
    ></mat-checkbox>
  </div>

  <div *ngIf="radio" fxFlex="40px" fxFlexAlign="center" class="expantion-radio">
    <mat-radio-button (change)="onCheck(data.checked)" [checked]="data.checked"></mat-radio-button>
  </div>

  <button
    fxFlex="100%"
    fxLayout="row"
    fxFlexAlign="center"
    [attr.aria-label]="labels?.headerButton?.aria"
    (click)="onClick($event)"
    class="expanstion-panel-row"
  >
    <div fxFlex="60px" fxFlexAlign="center" class="toggle">
      <div fxFlex="0 1 auto" [@toggleExpansion]="showChild ? 'expanded' : 'collapsed'">
        <imo-svg-icon [url]="accordion.url" [alt]="accordion.alt"></imo-svg-icon>
      </div>
    </div>
    <ng-container *ngIf="columns && data">
      <div
        fxFlex="100%"
        fxFlexAlign="center"
        *ngFor="let column of columns"
        [attr.id]="id + '-' + column.column"
        data-test="column"
        class="column"
      >
        <ng-container *ngIf="column.column === column.name; else elseTemplate">
          <ng-container [ngSwitch]="getLastToken(column.column)">
            <ng-container *ngSwitchCase="'name'">
              <div
                #holidayName
                [matTooltip]="data.name"
                [matTooltipDisabled]="!isTextOverflow(holidayName)"
                matTooltipClass="large-tooltip"
              >
                {{ data.calendarName }}
              </div>
            </ng-container>
          </ng-container>
        </ng-container>
        <ng-template #elseTemplate>
          <ng-container *ngIf="isArrayData(data[column.column]); else elseTmpl">
            <div *ngFor="let item of data[column.column]">{{ item }}</div>
          </ng-container>
          <ng-template #elseTmpl>
            <div
              #columnView
              [matTooltip]="data[column.column]"
              [matTooltipDisabled]="!isTextOverflow(columnView)"
              matTooltipClass="large-tooltip"
            >
              {{ data[column.column] }}
            </div>
          </ng-template>
        </ng-template>
      </div>
    </ng-container>
  </button>
</div>
<div [@bodyExpansion]="showChild ? 'expanded' : 'collapsed'" class="body" [ngClass]="{ 'panel-open': showChild }">
  <ng-content></ng-content>
</div>
