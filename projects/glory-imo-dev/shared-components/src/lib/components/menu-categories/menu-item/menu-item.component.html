<mat-menu #childMenu="matMenu" class="custom-menu-header" [class]="indexElement == 0 ? 'parent-class' : ''" [hasBackdrop]="false">
  <ng-container *ngFor="let child of items; let i = index">
    <!-- Handle branch node menu items -->
    <ng-container *ngIf="child.children && child.children.length > 0">
      <button
        mat-menu-item
        class="flex-item"
        [matMenuTriggerFor]="menu.childMenu"
        #menuTriggerChild="matMenuTrigger"
        [class]="child.isDisable ? 'disable-item' : 'enable-item'"
        [ngClass]="child.isGroup ? 'active-group' : ''"
        [ngStyle]="{ cursor: child.isDisable ? 'default' : 'pointer' }"
        [disabled]="child.isDisable"
        (click)="setActiveItem(i)"
        #button
      >
        <span class="child-title">{{ child.displayName | translate }}</span>
        <imo-svg-icon [url]="iconItem" [alt]="iconItem" [width]="12" [height]="12"></imo-svg-icon>
      </button>
      <imo-menu-item
        #menu
        [items]="child.children"
        [customsClass]="customsClass"
        class="child"
        [indexElement]="child.indexEl"
      ></imo-menu-item>
    </ng-container>
    <!-- Handle leaf node menu items -->
    <ng-container *ngIf="!child.children || child.children.length === 0">
      <button
        mat-menu-item
        class="flex-item"
        [class]="child.isDisable ? 'disable-item' : 'enable-item'"
        [ngClass]="child.isGroup ? 'active-group' : ''"
        (click)="setActiveItem(i)"
        [routerLink]="!child.isDisable ? child.route : []"
        [disabled]="child.isDisable"
        [ngStyle]="{ cursor: child.isDisable ? 'default' : 'pointer' }"
      >
        <span class="child-title">{{ child.displayName | translate }}</span>
      </button>
    </ng-container>
  </ng-container>
</mat-menu>
