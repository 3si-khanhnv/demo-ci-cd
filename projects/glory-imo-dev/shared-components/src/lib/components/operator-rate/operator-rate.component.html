<div class="group-info">
  <div class="tabs-group">
    <mat-tab-group
      class="invisible-tabs"
      mat-align-tabs="start"
      [selectedIndex]="selectedTabIndex"
      (selectedTabChange)="onTabChanged($event)"
    >
      <mat-tab class="body-tabs state">
        <ng-template mat-tab-label>
          <span class="header-label state">{{ labelHeaderTabs?.state | translate }}</span>
        </ng-template>

        <div class="imo-operator-rate" data-test="imo-operator-rate">
          <div class="content-operator-rate">
            <div class="operator-title">{{ contentChart?.label | translate }}</div>
            <div class="operator-percent">
              <span [innerHTML]="contentChart?.percent"></span>
            </div>
          </div>
          <div class="imo-chart-rate">
            <imo-chart-rate
              [contentChart]="contentChart"
              [colorScheme]="colorScheme"
              (click)="selectItemInfo(typeOperator)"
              class="imo-chart"
              (emitItem)="selectItemInfo($event)"
              [view]="viewChart"
              [data]="dataInput"
            >
            </imo-chart-rate>
          </div>
          <div class="group-status">
            <div class="imo-status" *ngFor="let item of typeGood" (click)="selectItemInfo(item)">
              <div *ngIf="item.type !== 'ciConnectorStatus'" class="imo-status-type">
                <imo-status-icon [type]="item.type"></imo-status-icon>
              </div>
              <div class="imo-status-name imo-status-name-{{ item?.name }}">
                <div class="imo-name">{{ item?.label | translate }}</div>
              </div>
              <div class="imo-status-value imo-status-value-{{ item?.name }}">
                <div class="imo-value" [innerHTML]="item.value"></div>
              </div>
            </div>
          </div>
          <div class="imo-highlight-error" *ngIf="isShowHightLightError">
            <div class="imo-highlight-title">{{ labelError | translate }}</div>
            <div class="imo-highlight-content">
              <imo-switches [isCheck]="isCheck" (changed)="handleHighlightErrors($event)"></imo-switches>
            </div>
          </div>
        </div>
      </mat-tab>

      <mat-tab class="body-tabs">
        <ng-template mat-tab-label>
          <span class="header-label">{{ labelHeaderTabs?.locations | translate }}</span>
        </ng-template>
        <div class="total-locations" fxLayout="column" fxLayoutAlign="center start">
          <div class="item-total" fxLayout="row" fxLayoutAlign=" center">
            <span class="total-number">{{ totalLocations }}</span>
            &nbsp;
            <span class="label-locations">{{
              totalLocations === 1 ? (labelCiConnector?.labelLocation | translate) : (labelCiConnector?.labelLocations | translate)
            }}</span>
          </div>
          <div *ngIf="totalCiConnector" class="item-label" fxLayout="row" fxLayoutAlign=" center">
            (<span class="total-connector">{{ totalCiConnector }}</span>
            &nbsp;
            <span class="label-connector">{{ labelCiConnector?.labelByCiConnector | translate }}</span
            >)
          </div>
        </div>
        <div *ngFor="let item of locationGroup">
          <div class="group-location-name" fxLayout="column" fxLayoutAlign="end start">
            <span class="group-name">{{ item?.label }}</span>
          </div>
          <div
            *ngFor="let location of item.subs"
            [ngClass]="item?.value + '-' + location.value === dataFilters.location ? 'active-location' : 'location'"
          >
            <imo-status-info class="imo-select-info" [data]="location" (click)="selectLocation(item, location)"></imo-status-info>
          </div>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
