@import "../../styles.scss";

.require {
  color: map-get($glory-secondary-red, 500);
}

span {
  &.has-error {
    color: map-get($glory-secondary-red, 600);
  }
}

:host ::ng-deep {
  mat-form-field {
    letter-spacing: normal;
    &.single-select-search {
      .mdc-text-field--no-label {
        padding: 0;
        --mdc-filled-text-field-active-indicator-height: 0;
        --mdc-filled-text-field-focus-active-indicator-height: 0;
        border: 1px solid #b4b9c7;
        border-bottom-right-radius: 4px;
        border-bottom-left-radius: 4px;
        .mat-mdc-form-field-infix {
          min-height: 31.33px;
          padding: 0;
          z-index: 2;

          &::before {
            content: "";
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 5px solid rgba(0, 0, 0, 0.54);
            margin: 0;
            position: absolute;
            right: 10px;
            top: calc(50% - 2px);
            cursor: pointer;
          }

          input {
            height: 18px;
            font-size: 14px;
            width: 85%;
            text-overflow: ellipsis;
            padding: 0.475rem 0.625rem;
          }
        }
      }

      &.custom-select {
        .mat-mdc-form-field-infix {
          &::before {
            content: none;
          }
        }
      }

      &.mat-focused {
        .mat-mdc-text-field-wrapper {
          border-color: map-get($map: $glory-secondary-blue, $key: 400) !important;
          box-shadow: 0 0 0 2px rgba(map-get($glory-secondary-blue, 400), $alpha: 0.3);
        }
      }
    }

    .mdc-floating-label {
      &.mat-mdc-floating-label {
        top: 14px;
      }
    }

    .mdc-notched-outline__notch {
      border-top: 1px solid map-get($colors, border-color);
    }

    &.ng-star-inserted {
      &.mat-focused {
        .mat-mdc-form-field-flex {
          .mdc-notched-outline__notch {
            .mdc-floating-label {
              &.mat-mdc-floating-label {
                display: none;
              }
            }
          }
        }
      }
    }

    .mat-mdc-form-field-icon-suffix {
      position: absolute;
      top: -1px !important;
      bottom: 0;
      padding: 0.4375rem !important;
      right: 0 !important;
      display: flex;
      align-items: center;

      mat-icon {
        width: 17px;
        padding: 0px;
        font-size: 17px;
        padding-top: 8px;
      }
    }

    &.has-error {
      border-radius: 4px;
      border-color: map-get($map: $glory-secondary-red, $key: 600) !important;
      box-shadow: 0 0 0 2px rgba(map-get($glory-secondary-red, 600), $alpha: 0.3);
    }

    .mat-mdc-form-field-subscript-wrapper {
      display: none;
    }

    input::placeholder {
      --mdc-filled-text-field-input-text-placeholder-color: map-get($glory-main-natural, 600);
    }
  }

  .mat-mdc-option.mdc-list-item {
    min-height: 32px;

    &.mat-mdc-option-active {
      background-color: #ebf4fe;
    }

    &:hover {
      &:not(.mat-mdc-option-disabled) {
        background-color: map-get($map: $glory-main-natural, $key: 200);
      }
    }
  }

  .readonly-select {
    .mat-mdc-form-field {
      background-color: map-get($glory-main-natural, 100);

      .mat-mdc-form-field-flex {
        .mdc-notched-outline__leading,
        .mdc-notched-outline__notch,
        .mdc-notched-outline__trailing {
          border-color: map-get($colors, gray);
        }
      }

      .mat-mdc-select-value-text {
        opacity: 1;
      }
    }
  }
}

::ng-deep {
  .cdk-overlay-pane {
    div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible {
      .mat-mdc-option {
        &,
        .mat-mdc-optgroup-label {
          height: 2rem;
          font-size: 0.875rem;
        }

        // > .mat-pseudo-checkbox {
        //   border-width: 0.0625rem;
        //   height: 1.25rem;
        //   width: 1.25rem;
        //   margin-right: 0.75rem;
        //   background-color: map-get($map: $glory-main-natural, $key: 000);
        //   border-radius: 4px;

        &:not(.mat-mdc-pseudo-checkbox-checked) {
          border-color: map-get($map: $glory-main-natural, $key: 400);
        }

        //   &.mat-pseudo-checkbox-checked {
        //     &::after {
        //       left: 0.125rem;
        //       width: 0.75rem;
        //       height: 0.375rem;
        //     }
        //   }

        //   &.mat-pseudo-checkbox-checked,
        //   &.mat-pseudo-checkbox-indeterminate {
        //     background-color: map-get($map: $glory-secondary-blue, $key: 400);
        //   }
        // }

        &.mat-selected {
          color: map-get($map: $glory-main-natural, $key: 900);
          background-color: map-get($map: $glory-setting-colors, $key: dropdown-focus);
        }

        &:focus {
          &:not(.mat-mdc-option-disabled) {
            background-color: transparent;
          }
        }

        &:hover {
          &:not(.mat-mdc-option-disabled) {
            background-color: map-get($map: $glory-main-natural, $key: 200);
          }
        }

        &.mat-active {
          background-color: map-get($map: $glory-setting-colors, $key: dropdown-focus);
        }

        .mat-pseudo-checkbox {
          display: none;
        }
      }

      .mat-mdc-option.selected {
        background-color: map-get($map: $glory-setting-colors, $key: "dropdown-focus") !important;
        background: rgba(0, 0, 0, 0.04);
      }
    }
  }
}
